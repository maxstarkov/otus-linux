## Решение задания

## Попасть в систему без пароля

**Проблема**: слишком короткий таймаут для выбора загрузки в GRUB.
**Решение**: в файле `/etc/default/grub` установить таймаут в 10 секунд `GRUB_TIMEOUT=10`.

# Способ 1

Загружаем систему через GUI VirtualBox.
В диалоге выбора загрузки нажимаем клавишу `e` и переходим к редактированию параметров загрузки.
В конце строки начинающейся с linux16 добавляем `init=/bin/sh`.
Загружаемся через нажатие клавиш `ctrl+x`.

**Проблема**: В строке параметров запуска системы были параметры указания консоли и терминала, что не позволяло системе выполнить загрузку и она падала.
**Решение**: Удалить эти параметры из строки.

Корневая файловая система смонтирована в режиме read-only.
Можно перемонтировать ФС в режиме read-write с помощью команд:

```
mount -o remount,rw /
```

После чего можно редактировать любые файлы.

# Способ 2

Загружаемся аналогично способу 1 и переходим к редактированию параметров загрузки.
В конце строки загрузки ядра добавляем параметр `rd.break`.
Этот параметр ядра останавливает загрузку на этапе перед монтированием корневой ФС.
Загружаемся `ctrl+x`.
Монтируем корневую ФС, меняем корень:

```
mount -o remount,rw /sysroot
chroot /sysroot
```

Теперь можно менять пароль, например так:

```
echo "SuperStrongPassword" | passwd --stdin vagrant
```

Для борьбы с SELinux потребуется создать файл `.autorelabel`:

```
touch /.autorelabel
```


