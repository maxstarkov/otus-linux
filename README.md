## Решение задания

Все необходимое для создания образа nginx на базе alpine расположено в репозитории [maxstarkov/simple-nginx-alpine](https://github.com/maxstarkov/simple-nginx-alpine.git).

Для сборки образа на основе Dockerfile нужно клонировать репозиторий:

```
git clone git@github.com:maxstarkov/simple-nginx-alpine.git
```

Перейти в каталог репозитория:

```
cd simple-nginx-alpine/
```

Выполнить сборку образа:

```
docker build -t git/nginx-alpine .
```

Запустить контейнер на основе образа:

```
docker run -it --rm -p 8080:80 git/nginx-alpine
```

Для проверки работоспособности контейнера, в другом терминале выполнить команду:

```
[vagrant@localhost ~]$ curl localhost:8080
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>HTML5</title>
</head>
<body>
    OTUS
    Server is online
</body>
</html>
```

В терминале где был запущен контейнер будет выведено:

```
[vagrant@localhost simple-nginx-alpine]$ docker run -it --rm -p 8080:80 git/simple-nginx-alpine
172.17.0.1 - - [27/Jan/2020:18:36:19 +0000] "GET / HTTP/1.1" 200 155 "-" "curl/7.29.0"
```

Убедились, что все работает как требуется.

Готовый образ контейнера размещен на docker hub.

Для проверки готового образа нужно запустить ВМ:

```
vagrant up
```

После старта ВМ подключиться к ней через ssh:

```
vagrant ssh
```

При создании ВМ будет установлен docker, запущен демон docker и готовый контейнер (в фоне).

Проверить работу готового контейнера можно выполнив команду:

```
[vagrant@localhost ~]$ curl localhost:8080
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>HTML5</title>
</head>
<body>
    OTUS
    Server is online
</body>
</html>
```

Убедились, что все работает как требуется.

### Конейнер и образ

`Образ` - можно сказать, что это набор файлов в состав которых входит все необходимое для запуска и работы приложения с помощью docker: операционная система, среда выполнения и само приложение. Образ состоит из нескольких слоев, каждый из которых представляет собой неизменяемую файловую систему - набор файлов и каталогов. Эти слои посредством union file system объединяются в единое целое - т.е. в образ.

`Контейнер` строится на основе образа. Он добавляет к образу еще один слой для которого разрешена запись, запускает необходимые процессы в изолированном окружении. Процессы в пространстве контейнера могут изменять, удалять или создавать файлы только в добавленном контейнером слое.

### Сборка ядра linux в контейнере

Да, это возможно - [docker-kernel-ide](https://github.com/tomzo/docker-kernel-ide)